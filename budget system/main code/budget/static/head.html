<#-- 全局变量 -->
<#global ctx="${(ctp.contextPath)!''}">
<#macro head>
<script type="text/javascript">
var ctx="${ctx}";
var imageServerUrl = "${staticImage}";
window.jQuery || document.write("<script src='${ctx}/js/jquery-1.12.1.min.js'>"+"<"+"/script>");
</script>
<script type="text/javascript" src="${ctx}/js/common.js"></script>
<link rel="icon" href="${ctx}/images/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="${ctx}/images/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="${ctx}/css/common.css" type="text/css"/>
<link rel="stylesheet" href="${ctx}/css/index.css" type="text/css"/>
</#macro>

<#macro login>
<script type="text/javascript">
var ctx="${ctx}";
</script>
<link href="${ctx}/css/common/bootstrap.min.css" rel="stylesheet">
<!--[if lte IE 8]>
	<script src="${ctx}/js/modules/respond.min.js"></script>
<![endif]-->
<link rel="icon" href="${ctx}/images/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="${ctx}/images/favicon.ico" type="image/x-icon">
<link href="${ctx}/css/index/index.css" rel="stylesheet">
<script src="${ctx}/js/jquery-1.12.1.min.js"></script>
<script src="${ctx}/js/common.js"></script>
<script src="${ctx}/js/jquerylib/QTip2/jquery.qtip.min.js"></script>
<link rel="stylesheet" href="${ctx}/js/jquerylib/QTip2/jquery.qtip.min.css">
<script src="${ctx}/js/jquerylib/QTip2/jquery.qtip.min.js"></script>
<script type="text/javascript" src="${ctx}/js/jquerylib/layer/layer.js"></script>
</#macro>
<#macro headDetail>
<script type="text/javascript">
var ctx="${ctx}";
var imageServerUrl = "${staticImage}";
window.jQuery || document.write("<script src='${ctx}/js/jquery-1.12.1.min.js'>"+"<"+"/script>");
</script>
<link rel="icon" href="${ctx}/images/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="${ctx}/images/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="${ctx}/css/common.css" type="text/css"/>
</#macro>

<#macro header>
<!-- 头部 -->
	<div class="ui-header">
		<a class="ui-logo" href="#"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>锐创动力-预算系统</a>
		<div class="ui-menu">
			<a class="ui-dropdown-toggle" href="javascript:void(0);">
				<span class="glyphicon glyphicon-user"></span>
				<#if Session.userName?exists> ${Session.userName}   </#if>
				<span class="glyphicon glyphicon-triangle-bottom"></span>
			</a>
			<ul class="ui-dropdown-menu">
				
			</ul>
		</div>
	</div>
	<script type="text/javascript">
	$(function(){
		var $nav = $('.ui-dropdown-menu');
		$.ajax({
			type:"post",
			url:ctx + "/system/menu/leftMenu",
			dataType:"json",
			success:function(data){
				if(data.status == 'success'){
					$nav.append(data.data);
					
				}else{
					$nav.append(data.message);
				}
				$nav.append('<li class="ui-divider"></li>');
				$nav.append('<li class="ui-dropdown-header">个人管理</li>');
				$nav.append('<li><a class="li-a-menu" data-url="/index" href="javascript:void(0);">个人主页</a></li>');
				$nav.append('<li><a class="li-a-menu" data-url="/guide" href="javascript:void(0);">新建向导</a></li>');
				$nav.append('<li><a class="li-a-menu" data-url="/introduction" href="javascript:void(0);">使用帮助</a></li>');
				$nav.append('<li><a class="li-a-menu" data-url="/logout" href="javascript:void(0);">注销</a></li>');
				//为所有的li绑定事件
				$(".li-a-menu").each(function(){
					var url = $(this).attr("data-url");
					$(this).click(function(){
						window.location.href = ctx + url;
					});
				});
			},
			error:function(data){
				alert('加载菜单出错');
			}
		});
		
	});
	</script>
</script>
</#macro>

<#macro footer>
 <!-- 尾部 -->
    <div class="ui-footer">
		<div class="ui-container">
			<h2><a class="glyphicon glyphicon-th-large" aria-hidden="true" href="javascript:void(0);"></a></h2>
			<p class="col-md-8 col-lg-8"> © 2016 锐创动力,Inc 预算系统</p>
		</div>
	</div>
</#macro>

<#macro layer>
<script type="text/javascript" src="${ctx}/js/jquerylib/layer/layer.js"></script>
</#macro>

<#macro zTree>
<link rel="stylesheet" href="${ctx}/js/jquerylib/zTree/css/zTreeStyle/zTreeStyle.css" type="text/css"/>
<script type="text/javascript" src="${ctx}/js/jquerylib/zTree/js/jquery.ztree.core-3.5.js"></script>
<script type="text/javascript" src="${ctx}/js/jquerylib/zTree/js/jquery.ztree.excheck-3.5.js"></script>
<script type="text/javascript" src="${ctx}/js/jquerylib/zTree/js/jquery.ztree.exedit-3.5.js"></script>
</#macro>

<#macro bsGrid>
<link rel="stylesheet" href="${ctx}/js/jquerylib/bsGrid/merged/grid.simple.min.css"/>
<script type="text/javascript" src="${ctx}/js/jquerylib/bsGrid/js/lang/grid.zh-CN.min.js"></script>
<script type="text/javascript" src="${ctx}/js/jquerylib/bsGrid/merged/grid.all.min.js"></script>
</#macro>

<#macro qtip>
<script language="javascript" type="text/javascript" src="${ctx}/js/jquerylib/QTip2/jquery.qtip.min.js"></script>
<link href="${ctx}/js/jquerylib/QTip2/jquery.qtip.min.css" rel="stylesheet" type="text/css" />
</#macro>

<#macro validate>
<script language="javascript" type="text/javascript" src="${ctx}/js/jquerylib/validate/jquery.validate.js"></script>
<script language="javascript" type="text/javascript" src="${ctx}/js/jquerylib/validate/additional-methods.js"></script>
<script language="javascript" type="text/javascript" src="${ctx}/js/jquerylib/validate/localization/messages_zh.js"></script>

<script language="javascript" type="text/javascript" src="${ctx}/js/jquerylib/QTip2/jquery.qtip.min.js"></script>
<link href="${ctx}/js/jquerylib/QTip2/jquery.qtip.min.css" rel="stylesheet" type="text/css" />
</#macro>

<#macro select>
<link href="${ctx}/js/jquerylib/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
<script language="javascript" type="text/javascript" src="${ctx}/js/jquerylib/select2/js/select2.full.min.js"></script>
</#macro>

<#macro indexHeader>
<div class="head">
    	<div class="head-top-wrap">
    		<div class="head-top">
    			<a class="logo" href="#"></a>
    			<div class="search-box">
    				<input type="text" placeholder="搜索相关内容">
    				<a class="search-btn" href="#">搜索</a>
    			</div>
    			
				<ul class="login-list">
					<#if Session.realName?exists>
						<li><a href="${ctx}/index">${Session.realName}</a></li>  
					<#else>
						<li><a class="login-btn" href="#">登陆</a></li>
    					<li><a class="register-btn" href="#">注册</a></li>
					</#if>
					
    				
    			</ul>
				
    			
    		</div>
    	</div>
    	<div class="head-nav-wrap">
	    	<ul class="head-nav">
	    		<li><a href="#">首页</a><span class="caret"></span></li>
	    		<li><a href="#">公共信息</a><span class="caret"></span></li>
	    		<li><a href="#">项目信息</a><span class="caret"></span></li>
	    		<li><a href="#">专家在线</a><span class="caret"></span></li>
	    		<li><a href="#">会议活动</a><span class="caret"></span></li>
	    		<li><a href="#">培训学习</a><span class="caret"></span></li>
	    		<li><a href="#">成果转化</a><span class="caret"></span></li>
	    		<li><a href="#">关于我们</a><span class="caret"></span></li>
	    	</ul>
	    	<div class="head-line"></div>
    	</div>
        <!-- 登陆 -->
        <div class="login">
            <i class="login-switch iconfont">&#xe62f;</i>
            <div class="title">
                <h1>登陆，访问rettc</h1>
                <h2>与世界分享可再生能源技术</h2>
            </div>
            <form action="${ctx}/login" method="post">
                <div class="input-wrapper user">
                    <input name="account" type="text" data-input-type="nodeUser" data-invalidate-tip="请输入正确的用户名/邮箱/手机号" placeholder="用户名/邮箱/手机号">
                    <i class="iconfont">&#xe61e;</i>
                </div>
                <div class="input-wrapper password">
                    <input name="password" type="password" data-input-type="nodePass" data-invalidate-tip="请输入正确的密码" placeholder="密码：example123_(6-16位)">
                    <i class="iconfont">&#xe629;</i>
                </div>
                <div class="input-wrapper code">
                    <input name="captcha" type="text" data-input-type="nodeCode" data-invalidate-tip="请输入正确的验证码" placeholder="验证码">
                    <img src="#" data-code-tip="看不清楚？换一张">
                </div>
                <button class="submit">登录</button>
            </form>
        </div>
        <!-- 注册 -->
        <div class="register">
            <i class="register-switch iconfont">&#xe62f;</i>
            <div class="register-type">
                <span class="type-personal current-type" data-form-type="personal-register">个人注册</span>
                <span class="type-company" data-form-type="company-register">企业注册</span>
            </div>
            <div class="form-wrap">
                <form action="${ctx}/front/register" method="post" name="personal-register">
                    <div class="input-wrapper user">
                        <input name="account" type="text" data-input-type="nodeName" data-invalidate-tip="请输入正确的个人用户" placeholder="个人用户：example123-_(3-15位)/中文(3-8位)">
                        <i class="iconfont">&#xe61e;</i>
                    </div>
                    <div class="input-wrapper email">
                        <input name="email" type="text" data-input-type="nodeEmail" data-invalidate-tip="请输入正确的个人邮箱" placeholder="个人邮箱：请输入正确的邮箱">
                        <i class="iconfont">&#xe614;</i>
                    </div>
                    <div class="input-wrapper password">
                        <input name="password" id="personal-pass-first" type="password" data-input-type="nodePass" data-invalidate-tip="请输入正确的密码" placeholder="密码：example123_(6-16位)">
                        <i class="iconfont">&#xe629;</i>
                    </div>
                    <div class="input-wrapper password">
                        <input name="qpassword" id="personal-pass-second" type="password" data-input-type="nodePass" data-invalidate-tip="确认密码和初始密码必须相等，且不能为空" placeholder="请确认输入密码">
                        <i class="iconfont">&#xe629;</i>
                    </div>
                    <div class="input-wrapper code">
                        <input name="captcha" type="text" data-input-type="nodeCode" data-invalidate-tip="请输入正确的验证码" placeholder="验证码">
                        <img src="#" data-code-tip="看不清楚？换一张">
                    </div>
                    <button class="submit">注册</button>
                </form>
                <form action="${ctx}/front/companyRegister" method="post" name="company-register">
                    <div class="input-wrapper user">
                        <input name="account" type="text" data-input-type="nodeName" data-invalidate-tip="请输入正确的公司用户" placeholder="公司用户：example123-_(3-15位)/中文(3-8位)">
                        <i class="iconfont">&#xe61e;</i>
                    </div>
                    <div class="input-wrapper email">
                        <input name="email" type="text" data-input-type="nodeEmail" data-invalidate-tip="请输入正确的公司邮箱" placeholder="公司邮箱：请输入正确的邮箱">
                        <i class="iconfont">&#xe614;</i>
                    </div>
                    <div class="input-wrapper password">
                        <input name="password" id="company-pass-first" type="password" data-input-type="nodePass" data-invalidate-tip="请输入正确的密码" placeholder="密码：example123_(6-16位)">
                        <i class="iconfont">&#xe629;</i>
                    </div>
                    <div class="input-wrapper password">
                        <input name="qpassword" id="company-pass-second" type="password" data-input-type="nodePass" data-invalidate-tip="确认密码和初始密码必须相等，且不能为空" placeholder="请确认输入密码">
                        <i class="iconfont">&#xe629;</i>
                    </div>
                    <div class="input-wrapper code">
                        <input name="captcha" type="text" data-input-type="nodeCode" data-invalidate-tip="请输入正确的验证码" placeholder="验证码">
                        <img src="#" data-code-tip="看不清楚？换一张">
                    </div>
                    <button class="submit">注册</button>
                </form>
            </div>
        </div>
    </div>
</#macro>